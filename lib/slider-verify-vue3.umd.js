(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.SliderVerifyVue3={},l.Vue))})(this,function(l,e){"use strict";const V="data:image/svg+xml,%3csvg%20t='1735183612108'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1450'%20width='200'%20height='200'%3e%3cpath%20d='M505.6%20121.6l396.8%20339.2c32%2025.6%2032%2070.4%200%2096l-396.8%20339.2c-25.6%2025.6-70.4%2019.2-89.6-6.4l0%200c-25.6-25.6-19.2-70.4%206.4-89.6L768%20512%20422.4%20217.6C396.8%20198.4%20390.4%20153.6%20416%20128l0%200C441.6%20102.4%20480%2096%20505.6%20121.6z'%20fill='%2332363999'%20p-id='1451'%3e%3c/path%3e%3cpath%20d='M204.8%20121.6l396.8%20339.2c32%2025.6%2032%2070.4%200%2096l-396.8%20339.2c-25.6%2025.6-70.4%2019.2-89.6-6.4l0%200c-25.6-25.6-19.2-70.4%206.4-89.6L460.8%20512%20115.2%20217.6C89.6%20198.4%2089.6%20153.6%20108.8%20128l0%200C134.4%20102.4%20172.8%2096%20204.8%20121.6z'%20fill='%2332363999'%20p-id='1452'%3e%3c/path%3e%3c/svg%3e",M="data:image/svg+xml,%3csvg%20t='1735183685296'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2434'%20width='200'%20height='200'%3e%3cpath%20d='M913.017%20237.02c-25.311-25.312-66.349-25.312-91.66%200l-412.475%20412.474-206.237-206.237c-25.312-25.312-66.35-25.312-91.661%200s-25.312%2066.35%200%2091.66l252.067%20252.067c0.729%200.73%201.439%201.402%202.134%202.029%2025.434%2023.257%2064.913%2022.585%2089.527-2.029l458.303-458.303c25.313-25.312%2025.313-66.35%200.001-91.661z'%20fill='%2332363999'%20p-id='2435'%3e%3c/path%3e%3c/svg%3e",_={class:"slider-wrapper"},k=["src"],b=["src"],y=((o,p)=>{const i=o.__vccOpts||o;for(const[n,h]of p)i[n]=h;return i})(e.defineComponent({name:"SliderVerify",__name:"index",props:e.mergeModels({size:{default:"medium"},width:{},sliderTip:{default:"请按住滑块拖动"},successTip:{default:"验证通过"},fillColor:{default:"#79ce8e"},sliderColor:{default:"#f2f2f2"},icons:{default:()=>[V,M]}},{modelValue:{default:!1,type:Boolean},modelModifiers:{}}),emits:e.mergeModels(["onSuccess","onFail","onDrag","onDragEnd"],["update:modelValue"]),setup(o,{emit:p}){const i=o,n=p,h=e.computed(()=>i.width?typeof i.width=="number"?`${i.width}px`:i.width:"100%"),r=e.useModel(o,"modelValue"),a=e.ref(),g=e.ref({borderRadius:"4px 0 0 4px"}),w=e.ref(i.sliderTip),s=e.ref(0),d=e.ref(!1),z=e.ref(0),C=e.ref(0),x={mini:24,small:28,medium:32,large:36},c={mini:12,small:13,medium:14,large:14},u=t=>{if(d.value){n("onDrag");const f=t.clientX-z.value,E=C.value+f;if(a.value){const L=a.value.getBoundingClientRect(),S=x[i.size],v=L.width-S,T=0;E>=S?g.value={borderRadius:"4px"}:g.value={borderRadius:"4px 0 0 4px"},s.value>=v?(s.value=v,r.value=!0,d.value=!1,w.value=i.successTip,n("onSuccess",!0)):(r.value=!1,s.value=0,n("onFail",!1)),s.value=Math.max(T,Math.min(v,E))}}},m=()=>{d.value=!1,n("onDragEnd");const t=a.value.getBoundingClientRect();if(a.value){const f=x[i.size];s.value<t.width-f&&(s.value=0)}document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",m)},D=t=>{r.value||(d.value=!0,z.value=t.clientX,C.value=s.value,document.addEventListener("mousemove",u),document.addEventListener("mouseup",m))};return e.onMounted(()=>{document.addEventListener("mousemove",u),document.addEventListener("mouseup",m)}),e.onUnmounted(()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",m)}),(t,f)=>(e.openBlock(),e.createElementBlock("div",_,[e.createElementVNode("div",{ref_key:"sliderContainer",ref:a,class:e.normalizeClass(["slider-container",`slider-container-${t.size}`]),style:e.normalizeStyle({width:h.value,backgroundColor:t.sliderColor})},[e.createElementVNode("div",{class:"slider-fill",style:e.normalizeStyle({width:s.value+"px",backgroundColor:t.fillColor})},null,4),e.createElementVNode("div",{class:e.normalizeClass(["slider-tips",{success:r.value}])},e.toDisplayString(w.value),3),e.createElementVNode("div",{class:"slider-thumb",style:e.normalizeStyle({left:`${s.value}px`,...g.value}),onMousedown:D},[r.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("img",{key:0,src:t.icons[0],class:"slider-icon",style:e.normalizeStyle({width:c[t.size]+"px",height:c[t.size]+"px"})},null,12,k)),r.value?(e.openBlock(),e.createElementBlock("img",{key:1,src:t.icons[1],class:"slider-icon",style:e.normalizeStyle({width:c[t.size]+"px",height:c[t.size]+"px"})},null,12,b)):e.createCommentVNode("",!0)],36)],6)]))}}),[["__scopeId","data-v-e1e73996"]]),B={install:function(o){o.component("SliderVerify",y)}};l.SliderVerify=y,l.default=B,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
